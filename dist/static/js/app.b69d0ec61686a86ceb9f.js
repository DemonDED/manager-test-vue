webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o=a("BO1k"),r=a.n(o),s=a("Gu7T"),l=a.n(s),i=a("mvHQ"),c=a.n(i),d={data:function(){return{name:null,phone:null,boss:null,id:0}},props:["dataLocalStorage"],mounted:function(){},methods:{addDataInLocalStorage:function(){if(this.id=localStorage.length-1,this.name.trim()&&this.phone.trim()){var t={id:this.id,name:this.name,phone:this.phone,boss:this.boss,employees:[]};this.$emit("add-user",t),localStorage.setItem(this.id,c()(t)),this.id++}}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"modal-window"}},[a("div",{staticClass:"header-modal"},[a("p",[t._v("Добавить пользователя")]),t._v(" "),a("div",{staticStyle:{cursor:"pointer","font-size":"20px"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),a("div",{staticClass:"body-modal"},[a("div",[a("label",{attrs:{for:""}},[t._v("Имя")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"newUserName",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("div",[a("label",{attrs:{for:""}},[t._v("Номер")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"newUserPhone",attrs:{type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),a("div",[a("label",{attrs:{for:""}},[t._v("Начальник")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.boss,expression:"boss"}],staticClass:"bossName",attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.boss=e.target.multiple?a:a[0]}}},t._l(t.dataLocalStorage,function(e){return a("option",{key:e.name},[t._v("\n          "+t._s(e.name)+"\n        ")])}),0)]),t._v(" "),a("button",{on:{click:function(e){return t.addDataInLocalStorage()}}},[t._v("Сохранить")])])])},staticRenderFns:[]};var v={data:function(){return{dataLocalStorage:[],statusModal:!1}},mounted:function(){this.loadData(),console.log(this.dataLocalStorage[0])},methods:{loadData:function(){for(var t=0;t<localStorage.length-1;t++)this.dataLocalStorage.push(JSON.parse(localStorage.getItem(t)))},loadDataAddUser:function(t){for(var e=0;e<localStorage.length-1;e++)t.boss==this.dataLocalStorage[e].name&&(this.dataLocalStorage[e].employees.push(t),localStorage.removeItem(e),localStorage.setItem(e,c()(this.dataLocalStorage[e])));this.dataLocalStorage.push(t)},sortTable:function(){document.querySelectorAll(".table_sort").forEach(function(t){return t.addEventListener("click",function(){return function(t){var e=t.target,a=e.dataset.order=-(e.dataset.order||-1),n=[].concat(l()(e.parentNode.cells)).indexOf(e),o=new Intl.Collator(["en","ru"],{numeric:!0}),s=function(t,e){return function(a,n){return e*o.compare(a.children[t].innerHTML,n.children[t].innerHTML)}},i=!0,c=!1,d=void 0;try{for(var u,v=r()(e.closest("table").tBodies);!(i=(u=v.next()).done);i=!0){var m=u.value;m.append.apply(m,l()([].concat(l()(m.rows)).sort(s(n,a))))}}catch(t){c=!0,d=t}finally{try{!i&&v.return&&v.return()}finally{if(c)throw d}}var p=!0,f=!1,h=void 0;try{for(var _,g=r()(e.parentNode.cells);!(p=(_=g.next()).done);p=!0){var b=_.value;b.classList.toggle("sorted",b===e)}}catch(t){f=!0,h=t}finally{try{!p&&g.return&&g.return()}finally{if(f)throw h}}}(event)})})}},components:{AddUser:a("VU/8")(d,u,!1,function(t){a("PD8j")},"data-v-70d263c1",null).exports}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"table-component"}},[a("div",{staticClass:"tableUser"},[a("button",{on:{click:function(e){t.statusModal=!0}}},[t._v("Добавить")]),t._v(" "),a("table",{staticClass:"table_sort"},[a("thead",[a("tr",[a("th",{staticStyle:{cursor:"pointer"},on:{click:t.sortTable}},[t._v("Имя")]),t._v(" "),a("th",{staticStyle:{cursor:"pointer"},on:{click:t.sortTable}},[t._v("Номер")])])]),t._v(" "),a("tbody",t._l(t.dataLocalStorage,function(e){return a("tr",{key:e.name},[a("td",[t._v(t._s(e.name)+"\n            "),a("table",t._l(e.employees,function(e){return a("tr",{key:e.name},[a("td",[t._v(" + "+t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.phone))])])}),0)]),t._v(" "),a("td",[t._v(t._s(e.phone))])])}),0)])]),t._v(" "),a("div",{staticClass:"addUser"},[t.statusModal?a("add-user",{attrs:{dataLocalStorage:t.dataLocalStorage},on:{close:function(e){t.statusModal=!1},"add-user":t.loadDataAddUser}}):t._e()],1)])},staticRenderFns:[]};var p={data:function(){return{}},mounted:function(){console.log("Hello Vue")},components:{TableManager:a("VU/8")(v,m,!1,function(t){a("dHoZ")},"data-v-96aee4c4",null).exports}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),e("div",{staticClass:"content-manager"},[e("table-manager")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"head-manager"},[e("h1",[this._v('Приложение "Менеджер"')]),this._v(" "),e("hr")])}]};var h=a("VU/8")(p,f,!1,function(t){a("mDrK")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:h},template:"<App/>"})},PD8j:function(t,e){},dHoZ:function(t,e){},mDrK:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b69d0ec61686a86ceb9f.js.map